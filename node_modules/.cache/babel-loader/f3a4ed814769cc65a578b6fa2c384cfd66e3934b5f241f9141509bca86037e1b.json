{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\\\uC9C0\\uB3C4\\uAE30\\uBC18\\uC0AC\\uC774\\uD2B8\\uB9CC\\uB4E4\\uAE30\\\\src\\\\components\\\\GoogleMap.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n  background: #f0f0f0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #666;\n  font-size: 1rem;\n`;\n_c = MapContainer;\nconst GoogleMap = ({\n  properties,\n  onMarkerClick,\n  center = {\n    lat: 37.5665,\n    lng: 126.9780\n  },\n  // 서울 중심\n  zoom = 10 // 서울 중심에 맞는 줌 레벨\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markersRef = useRef([]);\n\n  // 지도 초기화\n  useEffect(() => {\n    const initMap = () => {\n      if (!mapRef.current || !window.google || !window.google.maps) {\n        return false;\n      }\n      try {\n        // 기존 마커들 제거\n        markersRef.current.forEach(marker => {\n          if (marker && marker.setMap) {\n            marker.setMap(null);\n          }\n        });\n        markersRef.current = [];\n\n        // 지도 생성\n        const map = new window.google.maps.Map(mapRef.current, {\n          center,\n          zoom,\n          mapTypeId: window.google.maps.MapTypeId.ROADMAP,\n          zoomControl: true,\n          mapTypeControl: false,\n          scaleControl: false,\n          streetViewControl: false,\n          rotateControl: false,\n          fullscreenControl: false,\n          gestureHandling: 'cooperative',\n          // 대한민국 본토만 표시 (주변국 최소화)\n          restriction: {\n            latLngBounds: {\n              north: 38.0,\n              // 최북단 (강원도)\n              south: 34.5,\n              // 최남단 (경남)\n              east: 131.0,\n              // 최동단 (울릉도)\n              west: 125.0 // 최서단 (서해안)\n            },\n            strictBounds: false // 경계를 넘어서도 줌 가능하도록\n          },\n          // 최소 줌 레벨 설정 (본토 중심)\n          minZoom: 8,\n          // 최대 줌 레벨 설정\n          maxZoom: 18,\n          // 추가 컨트롤 비활성화\n          disableDefaultUI: true,\n          zoomControl: true\n        });\n        mapInstance.current = map;\n\n        // 마커 생성\n        properties.forEach(property => {\n          const marker = new window.google.maps.Marker({\n            position: property.location,\n            map,\n            title: property.title,\n            icon: {\n              url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" fill=\"#2563eb\"/>\n                </svg>\n              `),\n              scaledSize: new window.google.maps.Size(24, 24),\n              anchor: new window.google.maps.Point(12, 12)\n            }\n          });\n          if (onMarkerClick) {\n            marker.addListener('click', () => {\n              onMarkerClick(property);\n            });\n          }\n          markersRef.current.push(marker);\n        });\n        return true;\n      } catch (error) {\n        console.error('지도 초기화 오류:', error);\n        return false;\n      }\n    };\n\n    // Google Maps API 로딩 확인 및 지도 초기화\n    const checkAndInit = () => {\n      if (window.google && window.google.maps) {\n        if (initMap()) {\n          return;\n        }\n      }\n\n      // API가 로드되지 않았으면 100ms 후 다시 시도\n      setTimeout(checkAndInit, 100);\n    };\n    checkAndInit();\n\n    // 컴포넌트 언마운트 시 정리\n    return () => {\n      markersRef.current.forEach(marker => {\n        if (marker && marker.setMap) {\n          marker.setMap(null);\n        }\n      });\n      markersRef.current = [];\n    };\n  }, [properties, onMarkerClick, center, zoom]);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    ref: mapRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 10\n  }, this);\n};\n_s(GoogleMap, \"ddIzN8/UIQWrVDyooxl6ATcSiXQ=\");\n_c2 = GoogleMap;\nexport default GoogleMap;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapContainer\");\n$RefreshReg$(_c2, \"GoogleMap\");","map":{"version":3,"names":["React","useEffect","useRef","styled","jsxDEV","_jsxDEV","MapContainer","div","_c","GoogleMap","properties","onMarkerClick","center","lat","lng","zoom","_s","mapRef","mapInstance","markersRef","initMap","current","window","google","maps","forEach","marker","setMap","map","Map","mapTypeId","MapTypeId","ROADMAP","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","gestureHandling","restriction","latLngBounds","north","south","east","west","strictBounds","minZoom","maxZoom","disableDefaultUI","property","Marker","position","location","title","icon","url","encodeURIComponent","scaledSize","Size","anchor","Point","addListener","push","error","console","checkAndInit","setTimeout","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["C:/Users/user/지도기반사이트만들기/src/components/GoogleMap.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Property } from '../types';\r\n\r\nconst MapContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 400px;\r\n  background: #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #666;\r\n  font-size: 1rem;\r\n`;\r\n\r\ninterface GoogleMapProps {\r\n  properties: Property[];\r\n  onMarkerClick?: (property: Property) => void;\r\n  center?: { lat: number; lng: number };\r\n  zoom?: number;\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    google: any;\r\n  }\r\n}\r\n\r\nconst GoogleMap: React.FC<GoogleMapProps> = ({\r\n  properties,\r\n  onMarkerClick,\r\n  center = { lat: 37.5665, lng: 126.9780 }, // 서울 중심\r\n  zoom = 10 // 서울 중심에 맞는 줌 레벨\r\n}) => {\r\n  const mapRef = useRef<HTMLDivElement>(null);\r\n  const mapInstance = useRef<any>(null);\r\n  const markersRef = useRef<any[]>([]);\r\n\r\n  // 지도 초기화\r\n  useEffect(() => {\r\n    const initMap = () => {\r\n      if (!mapRef.current || !window.google || !window.google.maps) {\r\n        return false;\r\n      }\r\n\r\n      try {\r\n        // 기존 마커들 제거\r\n        markersRef.current.forEach(marker => {\r\n          if (marker && marker.setMap) {\r\n            marker.setMap(null);\r\n          }\r\n        });\r\n        markersRef.current = [];\r\n\r\n        // 지도 생성\r\n        const map = new window.google.maps.Map(mapRef.current, {\r\n          center,\r\n          zoom,\r\n          mapTypeId: window.google.maps.MapTypeId.ROADMAP,\r\n          zoomControl: true,\r\n          mapTypeControl: false,\r\n          scaleControl: false,\r\n          streetViewControl: false,\r\n          rotateControl: false,\r\n          fullscreenControl: false,\r\n          gestureHandling: 'cooperative',\r\n          // 대한민국 본토만 표시 (주변국 최소화)\r\n          restriction: {\r\n            latLngBounds: {\r\n              north: 38.0, // 최북단 (강원도)\r\n              south: 34.5, // 최남단 (경남)\r\n              east: 131.0, // 최동단 (울릉도)\r\n              west: 125.0  // 최서단 (서해안)\r\n            },\r\n            strictBounds: false // 경계를 넘어서도 줌 가능하도록\r\n          },\r\n          // 최소 줌 레벨 설정 (본토 중심)\r\n          minZoom: 8,\r\n          // 최대 줌 레벨 설정\r\n          maxZoom: 18,\r\n          // 추가 컨트롤 비활성화\r\n          disableDefaultUI: true,\r\n          zoomControl: true\r\n        });\r\n\r\n        mapInstance.current = map;\r\n\r\n        // 마커 생성\r\n        properties.forEach(property => {\r\n          const marker = new window.google.maps.Marker({\r\n            position: property.location,\r\n            map,\r\n            title: property.title,\r\n            icon: {\r\n              url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" fill=\"#2563eb\"/>\r\n                </svg>\r\n              `),\r\n              scaledSize: new window.google.maps.Size(24, 24),\r\n              anchor: new window.google.maps.Point(12, 12)\r\n            }\r\n          });\r\n\r\n          if (onMarkerClick) {\r\n            marker.addListener('click', () => {\r\n              onMarkerClick(property);\r\n            });\r\n          }\r\n\r\n          markersRef.current.push(marker);\r\n        });\r\n\r\n        return true;\r\n      } catch (error) {\r\n        console.error('지도 초기화 오류:', error);\r\n        return false;\r\n      }\r\n    };\r\n\r\n    // Google Maps API 로딩 확인 및 지도 초기화\r\n    const checkAndInit = () => {\r\n      if (window.google && window.google.maps) {\r\n        if (initMap()) {\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // API가 로드되지 않았으면 100ms 후 다시 시도\r\n      setTimeout(checkAndInit, 100);\r\n    };\r\n\r\n    checkAndInit();\r\n\r\n    // 컴포넌트 언마운트 시 정리\r\n    return () => {\r\n      markersRef.current.forEach(marker => {\r\n        if (marker && marker.setMap) {\r\n          marker.setMap(null);\r\n        }\r\n      });\r\n      markersRef.current = [];\r\n    };\r\n  }, [properties, onMarkerClick, center, zoom]);\r\n\r\n  return <MapContainer ref={mapRef} />;\r\n};\r\n\r\nexport default GoogleMap; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGvC,MAAMC,YAAY,GAAGH,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAVIF,YAAY;AAyBlB,MAAMG,SAAmC,GAAGA,CAAC;EAC3CC,UAAU;EACVC,aAAa;EACbC,MAAM,GAAG;IAAEC,GAAG,EAAE,OAAO;IAAEC,GAAG,EAAE;EAAS,CAAC;EAAE;EAC1CC,IAAI,GAAG,EAAE,CAAC;AACZ,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,MAAM,GAAGf,MAAM,CAAiB,IAAI,CAAC;EAC3C,MAAMgB,WAAW,GAAGhB,MAAM,CAAM,IAAI,CAAC;EACrC,MAAMiB,UAAU,GAAGjB,MAAM,CAAQ,EAAE,CAAC;;EAEpC;EACAD,SAAS,CAAC,MAAM;IACd,MAAMmB,OAAO,GAAGA,CAAA,KAAM;MACpB,IAAI,CAACH,MAAM,CAACI,OAAO,IAAI,CAACC,MAAM,CAACC,MAAM,IAAI,CAACD,MAAM,CAACC,MAAM,CAACC,IAAI,EAAE;QAC5D,OAAO,KAAK;MACd;MAEA,IAAI;QACF;QACAL,UAAU,CAACE,OAAO,CAACI,OAAO,CAACC,MAAM,IAAI;UACnC,IAAIA,MAAM,IAAIA,MAAM,CAACC,MAAM,EAAE;YAC3BD,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;UACrB;QACF,CAAC,CAAC;QACFR,UAAU,CAACE,OAAO,GAAG,EAAE;;QAEvB;QACA,MAAMO,GAAG,GAAG,IAAIN,MAAM,CAACC,MAAM,CAACC,IAAI,CAACK,GAAG,CAACZ,MAAM,CAACI,OAAO,EAAE;UACrDT,MAAM;UACNG,IAAI;UACJe,SAAS,EAAER,MAAM,CAACC,MAAM,CAACC,IAAI,CAACO,SAAS,CAACC,OAAO;UAC/CC,WAAW,EAAE,IAAI;UACjBC,cAAc,EAAE,KAAK;UACrBC,YAAY,EAAE,KAAK;UACnBC,iBAAiB,EAAE,KAAK;UACxBC,aAAa,EAAE,KAAK;UACpBC,iBAAiB,EAAE,KAAK;UACxBC,eAAe,EAAE,aAAa;UAC9B;UACAC,WAAW,EAAE;YACXC,YAAY,EAAE;cACZC,KAAK,EAAE,IAAI;cAAE;cACbC,KAAK,EAAE,IAAI;cAAE;cACbC,IAAI,EAAE,KAAK;cAAE;cACbC,IAAI,EAAE,KAAK,CAAE;YACf,CAAC;YACDC,YAAY,EAAE,KAAK,CAAC;UACtB,CAAC;UACD;UACAC,OAAO,EAAE,CAAC;UACV;UACAC,OAAO,EAAE,EAAE;UACX;UACAC,gBAAgB,EAAE,IAAI;UACtBhB,WAAW,EAAE;QACf,CAAC,CAAC;QAEFf,WAAW,CAACG,OAAO,GAAGO,GAAG;;QAEzB;QACAlB,UAAU,CAACe,OAAO,CAACyB,QAAQ,IAAI;UAC7B,MAAMxB,MAAM,GAAG,IAAIJ,MAAM,CAACC,MAAM,CAACC,IAAI,CAAC2B,MAAM,CAAC;YAC3CC,QAAQ,EAAEF,QAAQ,CAACG,QAAQ;YAC3BzB,GAAG;YACH0B,KAAK,EAAEJ,QAAQ,CAACI,KAAK;YACrBC,IAAI,EAAE;cACJC,GAAG,EAAE,mCAAmC,GAAGC,kBAAkB,CAAC;AAC5E;AACA;AACA;AACA,eAAe,CAAC;cACFC,UAAU,EAAE,IAAIpC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACmC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC;cAC/CC,MAAM,EAAE,IAAItC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACqC,KAAK,CAAC,EAAE,EAAE,EAAE;YAC7C;UACF,CAAC,CAAC;UAEF,IAAIlD,aAAa,EAAE;YACjBe,MAAM,CAACoC,WAAW,CAAC,OAAO,EAAE,MAAM;cAChCnD,aAAa,CAACuC,QAAQ,CAAC;YACzB,CAAC,CAAC;UACJ;UAEA/B,UAAU,CAACE,OAAO,CAAC0C,IAAI,CAACrC,MAAM,CAAC;QACjC,CAAC,CAAC;QAEF,OAAO,IAAI;MACb,CAAC,CAAC,OAAOsC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;QAClC,OAAO,KAAK;MACd;IACF,CAAC;;IAED;IACA,MAAME,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAI5C,MAAM,CAACC,MAAM,IAAID,MAAM,CAACC,MAAM,CAACC,IAAI,EAAE;QACvC,IAAIJ,OAAO,CAAC,CAAC,EAAE;UACb;QACF;MACF;;MAEA;MACA+C,UAAU,CAACD,YAAY,EAAE,GAAG,CAAC;IAC/B,CAAC;IAEDA,YAAY,CAAC,CAAC;;IAEd;IACA,OAAO,MAAM;MACX/C,UAAU,CAACE,OAAO,CAACI,OAAO,CAACC,MAAM,IAAI;QACnC,IAAIA,MAAM,IAAIA,MAAM,CAACC,MAAM,EAAE;UAC3BD,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;QACrB;MACF,CAAC,CAAC;MACFR,UAAU,CAACE,OAAO,GAAG,EAAE;IACzB,CAAC;EACH,CAAC,EAAE,CAACX,UAAU,EAAEC,aAAa,EAAEC,MAAM,EAAEG,IAAI,CAAC,CAAC;EAE7C,oBAAOV,OAAA,CAACC,YAAY;IAAC8D,GAAG,EAAEnD;EAAO;IAAAoD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACtC,CAAC;AAACxD,EAAA,CAtHIP,SAAmC;AAAAgE,GAAA,GAAnChE,SAAmC;AAwHzC,eAAeA,SAAS;AAAC,IAAAD,EAAA,EAAAiE,GAAA;AAAAC,YAAA,CAAAlE,EAAA;AAAAkE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}